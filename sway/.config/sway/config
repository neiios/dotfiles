# The variables should be set when launching Sway as well
exec dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK XDG_CURRENT_DESKTOP=sway

# TODO: clean up the variables
set $mod Mod4
set $bothMods Mod4+Mod1
set $left h
set $down j
set $up k
set $right l
set $term footclient
set $menu tofi-drun | xargs swaymsg exec --

# Set cursor theme
seat * xcursor_theme Adwaita 24

# Keyboard settings
input * {
    xkb_layout "us,ru"
    xkb_options "grp:win_space_toggle,caps:escape,compose:ralt"
    # Fuck mouse acceleration
    accel_profile flat
}

# Gaps
gaps inner 5
gaps outer 10

# No gaps if only one window is open
smart_gaps on
smart_borders on

# Tiled windows have no border
default_border pixel 2
default_floating_border normal

# Bar
bar {
    swaybar_command waybar
    # position top
    # status_command i3status
    # colors {
    #     statusline #ffffff
    #     background #000000
    #     inactive_workspace #000000 #000000 #5c5c5c
    # }
}

# Monitors
output 'Unknown 24G1WG4 0x0000B512' mode 1920x1080@144.001hz pos 0 0 subpixel rgb
output 'Ancor Communications Inc ASUS VP239 FALMTJ009967' mode 1920x1080@60.000hz pos 1920 0 subpixel rgb
output 'Unknown 0x02D8 0x00000000' mode 1366x768@60.019hz pos 0 0 subpixel rgb

# Autostart
exec {
  /home/${USER}/.config/sway/change-wallpaper.sh
  /home/${USER}/.config/sway/alternating_layouts.py
  mako
  mpris-proxy
  polkit-dumb-agent
  udiskie &
  easyeffects --gapplication-service
  foot --server
  keepassxc &
  emacs --daemon
}

# Includes
include keybinds
include window-rules
